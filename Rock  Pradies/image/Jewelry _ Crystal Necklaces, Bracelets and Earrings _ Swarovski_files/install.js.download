(function(){var B=function(){function f(){}return f.prototype.track=function(a){var d=this;a.onSpeedKitLoaded(function(){d.sendData(a),d.sendOriginData(a)}),a.onDfDataReady(function(){return d.sendOriginData(a)}),window.addEventListener("pagehide",function(){return d.sendData(a)})},f.prototype.sendData=function(a){if(SpeedKit.dynamicBlocks){var d={start:a.calculateRelative(SpeedKit.dynamicBlocks.start),status:SpeedKit.dynamicBlocks.status,received:a.calculateRelative(SpeedKit.dynamicBlocks.received),complete:a.calculateRelative(SpeedKit.dynamicBlocks.complete),localBlocks:SpeedKit.dynamicBlocks.localBlocks,remoteBlocks:SpeedKit.dynamicBlocks.remoteBlocks,mergedBlocks:SpeedKit.dynamicBlocks.mergedBlocks,changeDetection:SpeedKit.dynamicBlocks.changeDetection};a.set("dynamicFetcher",d)}},f.prototype.sendOriginData=function(a){SpeedKit.dynamicBlocks&&(a.set("originTTFB",SpeedKit.dynamicBlocks.originTTFB,!1),a.setTiming("originResponseStart",SpeedKit.dynamicBlocks.originResponseStart,!1))},f}();var L;(function(f){f.SNIPPET="snippet",f.CONFIG="skConfig",f.RUMPLUGIN="rum",f.JSTRACKINGPLUGIN="js",f.DFCONFIG="dfConfig",f.MERGE="merge",f.CHANGEDETECTION="cd",f.DYNAMICFETCHER="df",f.MAINNOTMERGED="mainNotMerged"})(L||(L={}));var A=function(){function f(a){this.key="jsErrors",this.counter=0,this.errors={},this.options=a}return f.prototype.on=function(a,d){(this.options&&this.options.afterDCL?d.onDOMInteractive:function(v){return v()})(function(){window.addEventListener("error",function(v){var g=f.errorEventToError(v);g&&a(g)}),window.addEventListener("unhandledrejection",function(v){var g=f.rejectionEventToError(v);g&&a(g)})})},f.prototype.append=function(a){var d=a.stackTrace&&a.stackTrace.split("\n")[0];return this.options&&this.options.maxPerPi&&this.counter>=this.options.maxPerPi||this.errors[d]?null:(this.errors[d]=!0,this.counter+=1,a)},f.errorEventToError=function(a){return a.error?{message:a.error.message,stackTrace:a.error.stack,timestamp:Date.now(),type:L.JSTRACKINGPLUGIN}:null},f.rejectionEventToError=function(a){var d=a.reason instanceof Error;return{message:d?a.reason.message:JSON.stringify(a.reason),stackTrace:d?a.reason.stack:null,timestamp:Date.now(),type:L.JSTRACKINGPLUGIN}},f}();var q=function(){function f(a){a===void 0&&(a={});var d={2:"login",3:"payment",4:"summary"};if(a.funnelStepMapping)for(var v=0,g=Object.keys(a.funnelStepMapping);v<g.length;v++){var e=g[v];d[Number(e)]=a.funnelStepMapping[Number(e)]}this.options={funnelStepMapping:d,trackAddToCart:typeof a.trackAddToCart!="boolean"||a.trackAddToCart,trackFunnelPage:typeof a.trackFunnelPage!="boolean"||a.trackFunnelPage,trackConfirmation:typeof a.trackConfirmation!="boolean"||a.trackConfirmation}}return f.prototype.track=function(a){var d=this;a.onDataLayer(function(v){if(v&&v.ecommerce){if(d.options.trackAddToCart&&v.ecommerce.add){var g=v.ecommerce.currencyCode||"EUR";return d.trackAddToCart(a,v.ecommerce.add.products,g)}return d.options.trackFunnelPage&&v.ecommerce.checkout?d.trackFunnelPage(a,v.ecommerce.checkout):d.options.trackConfirmation&&v.ecommerce.purchase?d.trackConfirmation(a,v.ecommerce.purchase):void 0}})},f.prototype.trackConfirmation=function(a,d){if(d.actionField){var v=d.actionField.id,g=d.actionField.revenue||"0.00",e=typeof g=="string"?g.replace(",","."):g;a.set("ecConversion",{id:v,currencyCode:"EUR",revenue:Number(e)})}},f.prototype.trackFunnelPage=function(a,d){if(d.actionField&&d.actionField.step&&this.options.funnelStepMapping[d.actionField.step]){var v=this.options.funnelStepMapping[d.actionField.step];a.set("ecFunnel",{step:v,payment:"",shipping:""})}},f.prototype.trackAddToCart=function(a,d,v){for(var g=[],e=0,r=d;e<r.length;e++){var s=r[e];g.push({id:s.id,price:Number(s.price),quantity:s.quantity||1,currencyCode:v})}a.append("ecAddToCart",g)},f}();(function(){if(window!==window.top)return;window.SpeedKit=window.SpeedKit||{},function(){var e,r,s,p,l=function(c,t){return{name:c,value:t===void 0?-1:t,delta:0,entries:[],id:"v2-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12)}},y=function(c,t){try{if(PerformanceObserver.supportedEntryTypes.includes(c)){if(c==="first-input"&&!("PerformanceEventTiming"in self))return;var n=new PerformanceObserver(function(o){return o.getEntries().map(t)});return n.observe({type:c,buffered:!0}),n}}catch(o){}},S=function(c,t){var n=function o(i){i.type!=="pagehide"&&document.visibilityState!=="hidden"||(c(i),t&&(removeEventListener("visibilitychange",o,!0),removeEventListener("pagehide",o,!0)))};addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0)},T=function(c){addEventListener("pageshow",function(t){t.persisted&&c(t)},!0)},I=function(c,t,n){var o;return function(i){t.value>=0&&(i||n)&&(t.delta=t.value-(o||0),(t.delta||o===void 0)&&(o=t.value,c(t)))}},E=-1,F=function(){return document.visibilityState==="hidden"?0:1/0},K=function(){S(function(c){var t=c.timeStamp;E=t},!0)},D=function(){return E<0&&(E=F(),K(),T(function(){setTimeout(function(){E=F(),K()},0)})),{get firstHiddenTime(){return E}}},x=function(c,t){var n,o=D(),i=l("FCP"),u=function(w){w.name==="first-contentful-paint"&&(h&&h.disconnect(),w.startTime<o.firstHiddenTime&&(i.value=w.startTime,i.entries.push(w),n(!0)))},m=window.performance&&performance.getEntriesByName&&performance.getEntriesByName("first-contentful-paint")[0],h=m?null:y("paint",u);(m||h)&&(n=I(c,i,t),m&&u(m),T(function(w){i=l("FCP"),n=I(c,i,t),requestAnimationFrame(function(){requestAnimationFrame(function(){i.value=performance.now()-w.timeStamp,n(!0)})})}))},O=!1,b=-1,G=function(c,t){O||(x(function(k){b=k.value}),O=!0);var n,o=function(k){b>-1&&c(k)},i=l("CLS",0),u=0,m=[],h=function(k){if(!k.hadRecentInput){var H=m[0],V=m[m.length-1];u&&k.startTime-V.startTime<1e3&&k.startTime-H.startTime<5e3?(u+=k.value,m.push(k)):(u=k.value,m=[k]),u>i.value&&(i.value=u,i.entries=m,n())}},w=y("layout-shift",h);w&&(n=I(o,i,t),S(function(){w.takeRecords().map(h),n(!0)}),T(function(){u=0,b=-1,i=l("CLS",0),n=I(o,i,t)}))},C={passive:!0,capture:!0},_=new Date,N=function(c,t){e||(e=t,r=c,s=new Date,M(removeEventListener),R())},R=function(){if(r>=0&&r<s-_){var c={entryType:"first-input",name:e.type,target:e.target,cancelable:e.cancelable,startTime:e.timeStamp,processingStart:e.timeStamp+r};p.forEach(function(t){t(c)}),p=[]}},j=function(c){if(c.cancelable){var t=(c.timeStamp>1e12?new Date:performance.now())-c.timeStamp;c.type=="pointerdown"?function(n,o){var i=function(){N(n,o),m()},u=function(){m()},m=function(){removeEventListener("pointerup",i,C),removeEventListener("pointercancel",u,C)};addEventListener("pointerup",i,C),addEventListener("pointercancel",u,C)}(t,c):N(t,c)}},M=function(c){["mousedown","keydown","touchstart","pointerdown"].forEach(function(t){return c(t,j,C)})},J=function(c,t){var n,o=D(),i=l("FID"),u=function(h){h.startTime<o.firstHiddenTime&&(i.value=h.processingStart-h.startTime,i.entries.push(h),n(!0))},m=y("first-input",u);n=I(c,i,t),m&&S(function(){m.takeRecords().map(u),m.disconnect()},!0),m&&T(function(){var h;i=l("FID"),n=I(c,i,t),p=[],r=-1,e=null,M(addEventListener),h=u,p.push(h),R()})},P={},U=function(c,t){var n,o=D(),i=l("LCP"),u=function(w){var k=w.startTime;k<o.firstHiddenTime&&(i.value=k,i.entries.push(w)),n()},m=y("largest-contentful-paint",u);if(m){n=I(c,i,t);var h=function(){P[i.id]||(m.takeRecords().map(u),m.disconnect(),P[i.id]=!0,n(!0))};["keydown","click"].forEach(function(w){addEventListener(w,h,{once:!0,capture:!0})}),S(h,!0),T(function(w){i=l("LCP"),n=I(c,i,t),requestAnimationFrame(function(){requestAnimationFrame(function(){i.value=performance.now()-w.timeStamp,P[i.id]=!0,n(!0)})})})}},W=function(c){var t,n=l("TTFB");t=function(){try{var o=performance.getEntriesByType("navigation")[0]||function(){var i=performance.timing,u={entryType:"navigation",startTime:0};for(var m in i)m!=="navigationStart"&&m!=="toJSON"&&(u[m]=Math.max(i[m]-i.navigationStart,0));return u}();if(n.value=n.delta=o.responseStart,n.value<0||n.value>performance.now())return;n.entries=[o],c(n)}catch(i){}},document.readyState==="complete"?setTimeout(t,0):addEventListener("pageshow",t)};function z(){return!!document.querySelector(".speed-kit-dynamic-loading,.speed-kit-dynamic-loaded")}window.SpeedKit=window.SpeedKit||{},window.SpeedKit.plugins=window.SpeedKit.plugins||{},window.SpeedKit.plugins.GoogleWebVitalsPlugin=function(){function c(){var t=this;this.cls={name:"CLS",value:0,delta:0,id:"init",entries:[]};try{G(function(n){return t.cls=n},!0),U(function(n){return t.extractLcpData(n)},!0)}catch(n){}}return c.prototype.on=function(t,n){var o=this;n.onLeavePage(function(){t([o.lcp,o.cls])}),["keydown","click"].forEach(function(i){addEventListener(i,function(u){u.isTrusted&&t([o.lcp])},{capture:!0})}),J(function(i){return t([i])})},c.prototype.extractLcpData=function(t){var n,o,i=t.entries.pop(),u=(n=i)===null||n===void 0?void 0:n.element;this.lcp={name:"LCP",value:t.value,identifier:(i==null?void 0:i.url)||(i==null?void 0:i.id)||(u==null?void 0:u.className)||"Unknown",selector:u?this.getSelector(u):"",trusted:!!z()&&[0,void 0,!1].includes((o=SpeedKit==null?void 0:SpeedKit.dynamicBlocks)===null||o===void 0?void 0:o.complete)}},c.prototype.track=function(t,n){for(var o=0,i=n;o<i.length;o++){var u=i[o];if(!u)return;switch(u.name){case"LCP":this.trackLCP(t);break;case"CLS":this.trackCLS(t,u);break;case"FID":this.trackFID(t,u)}}},c.prototype.trackLCP=function(t){this.lcp&&(t.set("largestContentfulPaint",this.lcp.value),t.set("largestContentfulPaintElement",this.lcp.identifier),t.set("lcpSelector",this.lcp.selector),t.set("lcpTrusted",this.lcp.trusted))},c.prototype.getSelector=function(t,n){if(n===void 0&&(n=""),t.tagName==="BODY"||t.id)return[t.tagName,t.id].join("#")+" "+n;var o=Array.from(t.classList).map(function(i){return"."+i}).join("");return o=("> "+t.tagName+o+" "+n).trim(),t.parentElement?this.getSelector(t.parentElement,o):o},c.prototype.trackCLS=function(t,n){var o;t.set("cumulativeLayoutShift",((o=this.cls)===null||o===void 0?void 0:o.value)||0),this.trackLargestCLS(t,n)},c.prototype.trackLargestCLS=function(t,n){var o=this.getLargestEntry(n.entries);if(o&&o.sources&&o.sources.length){var i=this.getLargestSource(o);if(i){var u=i.node,m=u?u.tagName+" "+(u.id||(u.classList.length?u.className:"")):"NoNode",h={prev:{x:i.previousRect.x,y:i.previousRect.y,width:i.previousRect.width,height:i.previousRect.height},cur:{x:i.currentRect.x,y:i.currentRect.y,width:i.currentRect.width,height:i.currentRect.height},id:m,value:o.value};t.set("cumulativeLayoutShiftElement",h)}}},c.prototype.getLargestEntry=function(t){return t.filter(function(n){return!n.hadRecentInput}).reduce(function(n,o){return n&&n.value>o.value?n:o},null)},c.prototype.getLargestSource=function(t){return t.sources.reduce(function(n,o){return n.node&&n.previousRect.width*n.previousRect.height>o.previousRect.width*o.previousRect.height?n:o})},c.prototype.trackFID=function(t,n){var o=n.value,i=n.entries.filter(function(u){return u.entryType==="first-input"})[0];t.set("firstInput",i==null?void 0:i.startTime),t.set("firstInputDelay",o)},c}()}(),function(){window.SpeedKit=window.SpeedKit||{},window.SpeedKit.plugins=window.SpeedKit.plugins||{},window.SpeedKit.plugins.FirstInteractionPlugin=function(){function e(r){this.data={},this.startTimestamp=Date.now(),this.listenerOpts={passive:!0,capture:!0},this.onlyFallback=!1,this.onlyFallback=(r==null?void 0:r.onlyFallback)||!1}return e.prototype.track=function(r){this.controller=r,this.listenScrollEvent();var s=this.isPerformanceObserverSupported();if(!s||!this.onlyFallback)if(s)this.listenWithPerformanceObserver();else try{this.listenForInputEvents()}catch(p){}},e.prototype.listenScrollEvent=function(){var r=this,s=function(p){try{if(window.removeEventListener("scroll",s),r.data.firstInteractionTime)return;r.data.firstInteractionTime=r.calculateFirstInteractionTime(p.timeStamp),r.executeTracking()}catch(l){}};window.addEventListener("scroll",s)},e.prototype.isPerformanceObserverSupported=function(){return typeof PerformanceObserver!="undefined"&&PerformanceObserver.supportedEntryTypes!==void 0&&PerformanceObserver.supportedEntryTypes.indexOf("first-input")>=0},e.prototype.calculateInputDelay=function(r){return(r.timeStamp>1e12?Date.now():performance.now())-r.timeStamp},e.prototype.calculateFirstInteractionTime=function(r){return r>1e12?r-performance.timing.navigationStart:r},e.prototype.listenWithPerformanceObserver=function(){var r=this;new PerformanceObserver(function(s){var p=s.getEntries(),l=p[p.length-1],y=l.processingStart,S=l.startTime;r.data.firstInputDelay=y-S,r.data.firstInputTime=r.calculateFirstInteractionTime(S),r.data.firstInteractionTime||(r.data.firstInteractionTime=r.data.firstInputTime),r.executeTracking()}).observe({type:"first-input",buffered:!0})},e.prototype.executeTracking=function(){this.controller&&(this.controller.set("firstInputDelay",this.data.firstInputDelay!==void 0?Math.round(this.data.firstInputDelay):void 0),this.controller.set("firstInput",this.data.firstInputTime?Math.round(this.data.firstInputTime):void 0),this.controller.set("firstInteraction",this.data.firstInteractionTime?Math.round(this.data.firstInteractionTime):void 0))},e.prototype.listenForInputEvents=function(){this.eachEventType(addEventListener)},e.prototype.removeInputEventListeners=function(){this.eachEventType(removeEventListener)},e.prototype.calculateFirstInteractionData=function(r){this.data.firstInputDelay!==void 0||this.data.firstInputTime||(this.data.firstInputDelay=this.calculateInputDelay(r),this.data.firstInputTime=this.calculateFirstInteractionTime(r.timeStamp),this.data.firstInteractionTime||(this.data.firstInteractionTime=this.data.firstInputTime),this.removeInputEventListeners(),this.notifyFirstInputDelayIfValid())},e.prototype.notifyFirstInputDelayIfValid=function(){this.data.firstInputTime&&this.data.firstInputDelay!==void 0&&this.data.firstInputDelay>=0&&this.data.firstInputDelay<Date.now()-this.startTimestamp&&this.executeTracking()},e.prototype.onPointerDown=function(r){var s=this,p=function(){s.calculateFirstInteractionData(r),y()},l=function(){y()},y=function(){try{removeEventListener("pointerup",p,s.listenerOpts),removeEventListener("pointercancel",l,s.listenerOpts)}catch(S){}};addEventListener("pointerup",p,this.listenerOpts),addEventListener("pointercancel",l,this.listenerOpts)},e.prototype.onInteraction=function(r){try{if(!r.cancelable||!r.isTrusted)return;if(r.type==="pointerdown")return this.onPointerDown(r);this.calculateFirstInteractionData(r)}catch(s){}},e.prototype.eachEventType=function(r){var s=this;["click","mousedown","keydown","touchstart","pointerdown"].forEach(function(p){return r(p,s.onInteraction.bind(s),s.listenerOpts)})},e}()}();var f="-";SpeedKit.rumPlugins=[new B,new A,new SpeedKit.plugins.FirstInteractionPlugin({onlyFallback:!0}),new SpeedKit.plugins.GoogleWebVitalsPlugin,new q({funnelStepMapping:{1:"cart",2:"shippingPage",3:"paymentPage",4:"summaryPage"}}),{key:"ecAddToCart",on:"dataLayer",append:function(e){if(!(!e||e.event!=="addToCart"||!e.products)){for(var r=[],s=e.products,p=0;p<s.length;p++)r.push({id:s[p].id?s[p].id:location.href,currencyCode:f,price:Number(s[p].price),quantity:s[p].quantity?s[p].quantity:1});if(console.log(r),r.length>0)return r}}},{key:"ecCart",on:"dataLayer",set:function(e){if(!(!e||e.event!=="checkout"||!e.products)&&e.step==="1"){var r=e.products,s=r.reduce(function(l,y){return l+parseFloat(y.price*y.quantity)},0),p=r.reduce(function(l,y){return l+parseFloat(y.quantity)},0);return{size:p,currencyCode:f,price:s}}}},{key:"currency",type:"SessionDimension",on:"dataLayer",set:function(e){if(!(!e||!e.siteCurrency))return f=e.siteCurrency,e.siteCurrency}},{key:"country",type:"SessionDimension",on:"dataLayer",set:function(e){if(!(!e||!e.siteCountryCode))return e.siteCountryCode}},{key:"language",type:"SessionDimension",on:"domInteractive",set:function(){return document.querySelector("html").getAttribute("lang")}},{type:"PiDimension",on:"domInteractive",track:function(e){var S,T;var r=document.querySelector("section.swa-homepage__component__top-teaser div.glide__slides > .glide__slide:not(.glide__slide--clone)");if(r){var s=r.getAttribute("data-name")||"not set",p=document.querySelector("html").getAttribute("lang")||"not set",l=((S=r.querySelector("source"))==null?void 0:S.src)||"not set",y=((T=r.querySelector(".js-swa-teaser-carousel-poster"))==null?void 0:T.src)||"not set";e.trackCustomEvent("trackBannerElement2",JSON.stringify({id:s,lang:p,source:l,poster:y}))}}},{key:"pageType",type:"PiDimension",on:"dataLayer",set:function(e){if(!(!e||!e.pageId))return e.pageId}},{key:"ecConversion",on:"dataLayer",set:function(e){if(!(!e||e.event!=="orderConfirmation"))return{id:String(e.orderID),currencyCode:String(f),revenue:Number(e.revenue)}}},{key:"pageTypeEnabled",type:"PiDimension",on:"domInteractive",set:function(){var e=null;try{var r=!0;window.speedKit&&window.speedKit.enabledSites&&(r=window.speedKit.enabledSites.some(function(p){return p.pathname?p.pathname.some(function(l){return typeof l!="string"?l.test(location.pathname):location.pathname.indexOf(l)===0}):!1}));var s=!1;window.speedKit&&window.speedKit.disabledSites&&(s=window.speedKit.disabledSites.some(function(p){return p.pathname?p.pathname.some(function(l){return typeof l!="string"?l.test(location.pathname):location.pathname.indexOf(l)===0}):!1})),e=r&&!s?"true":"false"}catch(p){}return e}},{on:"domInteractive",track:function(e){g()}}];function a(e){if(document.readyState!=="loading")return setTimeout(e,0);document.addEventListener("DOMContentLoaded",e)}a(function(){d()});function d(){if(window.google_optimize){v();return}setTimeout(d,500)}function v(){if(document.querySelector("#optimize-delivery-container")){var e=document.querySelector(".yCmsContentSlot").getBoundingClientRect().top;localStorage.setItem("baqend-speedkit-bannerheight","".concat(e))}else localStorage.removeItem("baqend-speedkit-bannerheight");var r=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,s=document.querySelector("#optimize-delivery-container");if(!(!r||!document.querySelector(".swa-header")||!s)){var p=new r(function(l){l.forEach(function(y){y.attributeName==="style"&&y.target.style.cssText.indexOf("display: none")>-1&&localStorage.removeItem("baqend-speedkit-bannerheight")})});p.observe(s,{attributes:!0,attributeFilter:["style"]})}}function g(){if(!(window.SpeedKit&&window.SpeedKit.group==="B")){var e=document.querySelector("#swa-pdp-main .swa-product-carousel .glide__slides .glide__slide:not(.glide__slide--clone) .js-swa-product-carousel-image");if(!!e){if(!e.classList.contains("lazyloaded"))return setTimeout(g,500);for(var r=e.dataset.src,s=e.src,p=r.split("/"),l=s.split("/"),y={},S=0;S<p.length;S++){var T=p[S],I=l[S];T!==I&&(y[T]=I)}Object.keys(y).length>0&&localStorage.setItem("pdpImgMapping",JSON.stringify(y))}}}})();})();
(function(){(function(){function i(){var s=["www.swarovski.com","swa-pp03.swarovski.com"];return s.some(function(a){return location.href.indexOf(a)>-1})}window.speedKit={appName:"swarovski",sw:"/wrapper-sw.js?r=f31a01e9-4c01-4dd7-8614-e58aaff71462&v=2.12.1",preloadDynamicBlocks:!0,rumTracking:!0,split:1,splitTestId:"100vs0_2022-10-04",enableForWebViews:!0,disabled:!i(),enabledSites:[{pathname:[/-[A-Z]+\/[pc]-/,/\/en-MY/i,/\/s-world-of-swarovski/i,/\/s-creators-lab/i,/\/scslanding/i,/\/s-brand\/about-us/i,/\/s-customer-service-overview\/swarovski-customer-service-faqs/i,/\/s-faq/i]}],disabledSites:[{pathname:[/\/cart/i,/\/my-account/i,/\/register/i,/\/wishlist/i,/\/accountswarovskiclub/i,/\/scsconfigurator/i,/\/login/i,/\/logout/i,/\/giftcard/i,/\/orderstatus/i,/\/unsubscribe/i,/\/checkout/i,/\/search/i,/\/scslanding/i,/\/s-appointment/i]}],whitelist:[{host:["www.swarovski.com","swa-pp03.swarovski.com"],contentType:["navigate","script","style","font"]}],blacklist:[{host:["adition.com","imagesrv.adition.com","connect.facebook.net"]},{pathname:[/\/cart/i,/\/my-account/i,/\/register/i,/\/wishlist/i,/\/accountswarovskiclub/i,/\/scslanding/i,/\/scsconfigurator/i,/\/login/i,/\/logout/i,/\/giftcard/i,/\/orderstatus/i,/\/unsubscribe/i,/\/checkout/i,/\/search/i,/\/store-finder/i,/\/s-appointment/i,/\/akam\//i,/[?&](_=1\d{12})/,/\.pdf/,/password/i,/paypal/i,/klarna/i,/amazon/i,/sofortpayment/i,/ratepay/i,/payone/i]},{url:["www.facebook.com/tr/",/demdex/,"www.googletagmanager.com/gtm.js","www.google.com","www.googleoptimize.com","www.google-analytics.com","www.googletagmanager.com/gtag/js"]},{host:"asset.swarovski.com",contentType:["image"]}],stripQueryParams:[{params:["gclid","msclkid","utm_","utm-","gclsrc","fbclid","ds_rl","dclid","cjid","yclid","campaign","_ga","gbraid","wbraid","irgwc","irclickid","sap-outbound-id","crmid","rm","vg","cts","external_browser_redirect","ki","pseg","asc_source","asc_refurl","styProdUuid","styCampaignId","stySource","zarsrc","gidzl","amp","AID","CJPID","SID","mc_cid","mc_eid","gdpr","pp","CJPID","CJURL","cto_pld","param","ctype","client","nx","ny","slpfid","origin","uid","NaPm",/^seg$/,"epik","mt_","uuid"]}]}})();})();
(function(){(function(h,v,N,a,ve,Ot,Lt){"use strict";var A="baqend-speedkit",F=A+"-user-id",Y=A+"-session-id",ie=A+"-session-index",re=A+"-session-timestamp";function he(e,t,n,i){return Promise.resolve(e).then(function(r){return new Promise(function(o,s){var u=r.transaction(t,n),l=Promise.resolve(i(u.objectStore(t)));u.oncomplete=function(){return l.then(o)},u.onabort=u.onerror=function(){return s(u.error)}})})}function me(e,t,n){return he(e,t,"readwrite",n)}function oe(e,t){return t&&t!=="/"?""+(t.lastIndexOf("/")===t.length-1?t.substr(0,t.length-1):t)+((e.indexOf("/")===0?"":"/")+e):e}var ae=function(){function e(t){this.dbp=null,this.cacheName=oe(A,t),this.dbp=this.openDb()}return e.prototype.get=function(t){return(n=this.db(),i="baqend-speedkit-store",r=function(o){return o.get(t)},he(n,i,"readonly",r)).then(function(o){return o.result||null});var n,i,r},e.prototype.set=function(t,n){return me(this.db(),"baqend-speedkit-store",function(i){return i.put(n,t)&&void 0})},e.prototype.clear=function(){return Promise.all([(t=this.db(),n="baqend-speedkit-store",me(t,n,function(i){return i.clear()}).then(function(){}))]).then(function(){});var t,n},e.prototype.disconnect=function(){var t=this;return this.dbp?this.dbp.then(function(n){t.dbp=null,n.close()}):Promise.resolve()},e.prototype.db=function(){return this.dbp||(this.dbp=this.openDb()),this.dbp},e.prototype.openDb=function(){var t=this,n=indexedDB.open(this.cacheName,1);return n.onupgradeneeded=function(i){var r=i.oldVersion,o=n.result;if(r<1){if(!o)return;try{o.createObjectStore("baqend-speedkit-store")}catch(s){}}},this.openRequest(n).then(function(i){return i.onclose=function(){t.dbp=null},i.onerror=function(){t.dbp=null},i.onversionchange=function(r){r.newVersion||(t.dbp=null,i.close())},i})},e.prototype.openRequest=function(t){return new Promise(function(n,i){t.onsuccess=function(){return n(t.result)},t.onerror=function(){return i(t.error)},t.onblocked=function(){return i(t.error)}})},e}();(function(){function e(){this.map=new Map}e.prototype.get=function(t){return Promise.resolve(this.map.get(t)||null)},e.prototype.set=function(t,n){return this.map.set(t,n),Promise.resolve()},e.prototype.clear=function(){return this.map.clear(),Promise.resolve()}})();function Q(e){h.readyState!=="complete"?window.addEventListener("load",function(){return e()}):e()}var _e=1e5;function ye(e,t){var n=function(r,o){o===void 0&&(o=_e);var s=JSON.stringify(r),u=s.length;if(u<=o)return s;var l=[],p=[];Object.keys(r).forEach(function(f){var d=JSON.stringify(r[f]);l.push({name:f,size:d.length})}),l.sort(function(f,d){return d.size-f.size});for(var c=0;u>o&&l[c];)delete r[l[c].name],u-=l[c].size,p.push(l[c].name),c+=1;return r.truncatedKeys=p,JSON.stringify(r)}(t);try{if(v.sendBeacon&&v.sendBeacon(e,n))return}catch(r){}var i=new XMLHttpRequest;i.open("POST",e,!0),i.setRequestHeader("Content-Type","text/plain;charset=UTF-8"),i.send(n)}function Se(e,t){return!(Array.isArray(e)&&!Array.isArray(t)||!Array.isArray(e)&&Array.isArray(t))&&typeof e==typeof t&&(Array.isArray(e)?e.length===t.length:typeof e=="object"?function(n,i){var r=0,o=0;for(var s in n)if(Object.prototype.hasOwnProperty.call(n,s)&&(r+=1,!Se(n[s],i[s])))return!1;for(var s in i)o+=1;return r===o}(e,t):e===t)}function Z(e){h.readyState==="loading"?h.addEventListener("DOMContentLoaded",function(){return e()}):setTimeout(e,0)}function Xe(e){h.querySelector("html.speed-kit-dynamic-loaded")?setTimeout(e,0):h.addEventListener("speed-kit-loaded",function(){return e()})}var Ye=function(){function e(){this.dataLayerObservers=[]}return e.prototype.onDataLayer=function(t){if(!this.dataLayerObservers.length){var n=this.dataLayerObservers;this.observeDataLayer(function(){for(var i=function(l){var p=r;setTimeout(function(){l.apply({},p)},0)},r=arguments,o=0,s=n;o<s.length;o++){var u=s[o];i(u)}})}this.dataLayerObservers.push(t)},e.prototype.onDataLayerReady=function(t){this.waitForDataLayer(t)},e.prototype.observeDataLayer=function(t){Z(this.initDataLayer.bind(this,t))},e.prototype.initDataLayer=function(){var t=arguments[0];this.waitForDataLayer(function(){var n=window.dataLayer,i=n.push;n.push=function(){var s=Array.prototype.slice.call(arguments),u=i.apply(n,s);return t.apply(n,s),u};for(var r=0;r<n.length;r+=1)t.call(n,n[r])})},e.prototype.waitForDataLayer=function(t){var n=this;window.dataLayer?t():setTimeout(function(){n.waitForDataLayer(t)},500)},e}();function H(e){return e===void 0&&(e=25),function(t){var n=[];n.length=t;for(var i=0;i<t;)n[i]=0,i+=1;return n}(e).map(function(){return Math.floor(62*Math.random())}).map(function(t){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789"[t]}).join("")}function j(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n={};return e.forEach(function(i){Object.keys(i).forEach(function(r){return n[r]=i[r]})}),n}var Qe={performanceOnly:!1,stripAllParameter:!1,noCookies:!1,noTracking:!1,pageDisabled:!1};function L(){var e=j({},Qe);return a.rumTracking?typeof a.rumTracking=="boolean"?e:j(e,a.rumTracking):j(e,{noTracking:!0})}function x(e){var t=null;if(typeof Storage!="undefined")try{t=localStorage.getItem(e)}catch(n){}return t}function se(){var e,t=H(),n=0;if((e=x(re))&&(Date.now()-parseInt(e,10))/1e3<=1800){t=x(Y);var i=""+(x(ie)||-1);n=parseInt(i,10)+1}return[t,n]}function $(e,t){if(typeof Storage!="undefined")try{localStorage.setItem(e,t)}catch(n){}}var w,Ze=[F,"baqend-speedkit-config"];function ue(){return!(x("baqend-speedkit-sk-opt-out")!=="1"&&!window.deactivateSpeedKit)}function K(e,t){if(!(ue()||($(e,t),L().noCookies||Ze.indexOf(e)<0))){var n=a.cookieLifetime||180,i=new Date(Date.now()+24*n*60*60*1e3).toUTCString();try{h.cookie=e+"="+t+"; expires="+i+"; path=/; SameSite=Lax; Secure"}catch(r){}}}function B(e,t){t===void 0&&(t=!0);var n=x(e),i=function(o){try{var s=new RegExp(o+"=([^,;]*)"),u=h.cookie.match(s);return u&&u[1]?u[1]:null}catch(l){}return null}(e),r=n||i;return r&&n!==i&&t&&K(e,r),r}function we(e){return e===void 0&&(e=!0),B(F,e)||H()}function ce(e){return"reason"in e}function k(e,t){(function(){if(!(window.SpeedKit&&window.SpeedKit.track)){var o=L(),s=!(o.noTracking||o.performanceOnly);if(window.SpeedKit=window.SpeedKit||{},window.SpeedKit.navigateId=window.SpeedKit.navigateId||""+H(32),window.SpeedKit.group=window.SpeedKit.group||"sk",window.SpeedKit.track=$e,!window.SpeedKit.sessionId&&s){var u=se(),l=u[0],p=u[1];window.SpeedKit.sessionId=l,window.SpeedKit.sessionIndex=p}s&&(window.SpeedKit.userId=window.SpeedKit.userId||we())}})();var n={timestamp:Date.now(),type:t,message:"Install.js",stackTrace:"null"};if(function(o){return!!o&&("reason"in o||"message"in o)}(e)){var i=ce(e)?e.reason.message||JSON.stringify(e.reason):e.message,r=ce(e)?e.reason.stack:e.stack;n.message="Install.js: "+i,n.stackTrace=r||"null"}(function(o){be("jsErrors",[o])})(n)}function $e(e,t,n){be("events",[{action:""+e,label:""+t,value:isNaN(Number(n))?0:Number(n)}])}function be(e,t){var n=L();if(!n.noTracking){var i={sessionId:SpeedKit.sessionId,userId:SpeedKit.userId},r={piId:SpeedKit.navigateId,testGroup:SpeedKit.group};r[e]=t;var o=n.performanceOnly?r:j(r,i);ye("https://"+(a.appDomain||"{}.app.baqend.com".replace("{}",a.appName))+"/v1/rum/pi",o)}}(function(e){e.SNIPPET="snippet",e.CONFIG="skConfig",e.RUMPLUGIN="rum",e.JSTRACKINGPLUGIN="js",e.DFCONFIG="dfConfig",e.MERGE="merge",e.CHANGEDETECTION="cd",e.DYNAMICFETCHER="df"})(w||(w={}));var et=function(){function e(t){this.rumController=t,this.triggerFunctions={domInteractive:this.rumController.onDOMInteractive,load:this.rumController.onLoad,speedKitLoaded:this.rumController.onSpeedKitLoaded,dataLayer:this.rumController.onDataLayer.bind(this.rumController),dataLayerReady:this.rumController.onDataLayerReady.bind(this.rumController),visibilityHidden:this.rumController.onVisibilityHidden,dfDataReady:this.rumController.onDfDataReady,leavePage:this.rumController.onLeavePage.bind(this.rumController),gaReady:this.rumController.onGaReady.bind(this.rumController),gaTracking:this.rumController.onGaTracking.bind(this.rumController)}}return e.prototype.initPlugin=function(t){if(t.shouldExecute)try{if(!t.shouldExecute())return}catch(i){k(i,w.RUMPLUGIN)}t.type||(t.type="Data"),typeof t.on=="string"?t.on=this.triggerFunctions[t.on]||this.getUnknownTriggerFunction(t.on):t.on=t.on||function(i){return i()};var n=this.generateCallbackFunction(t);try{t.on(n,this.rumController)}catch(i){k(i,w.RUMPLUGIN)}},e.prototype.generateCallbackFunction=function(t){var n=this;return function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];if(t.track){var o=[n.rumController].concat(i);try{t.track.apply(t,o)}catch(p){k(p,w.RUMPLUGIN)}}else if(t.key&&(t.set||t.append||t.setTiming)){var s,u=n.getControllerFunction(t),l=n.getTrackingFunction(t);try{s=l.apply(t,i)}catch(p){k(p,w.RUMPLUGIN)}s!=null&&u.call(n.rumController,t.key,s)}}},e.prototype.getControllerFunction=function(t){return t.setTiming?this.rumController.setTiming:t.set?this.rumController.set:this.rumController.append},e.prototype.getTrackingFunction=function(t){return t.setTiming||t.set||t.append},e.prototype.getUnknownTriggerFunction=function(t){var n=this,i=function(r){n.resolvePluginVariable(t)!==null?r():setTimeout(function(){return i(r)},200)};return i},e.prototype.resolvePluginVariable=function(t){for(var n=t.replace(/\[(\w+)\]/g,".$1"),i=(n=n.replace(/^\./,"")).split("."),r=window,o=0,s=i;o<s.length;o++){var u=s[o];if(typeof r!="object"||r==null)break;r=r[u]}return r||null},e}();function tt(e){h.addEventListener("visibilitychange",function(){h.visibilityState==="hidden"&&e()},!0)}function nt(e){SpeedKit&&SpeedKit.dynamicBlocks&&SpeedKit.dynamicBlocks.complete&&SpeedKit.dynamicBlocks.dataComplete||!h.querySelector("html.speed-kit-dynamic-loading")?setTimeout(e,0):h.addEventListener("dynamic-fetcher-data-ready",function(){return e()})}var R,it=function(){function e(){this.callbacks=[],this.unloaded=!1}return e.prototype.init=function(){var t=this;h.addEventListener("visibilitychange",function(){h.visibilityState==="hidden"?t.prepareBeforeLeaving("visibilityChange"):h.visibilityState==="visible"&&(t.unloaded=!1)}),"onpagehide"in window?window.addEventListener("pagehide",function(){return t.prepareBeforeLeaving("pagehide")}):(window.addEventListener("beforeunload",function(){return t.prepareBeforeLeaving("beforeunload")}),window.addEventListener("unload",function(){return t.prepareBeforeLeaving("unload")}))},e.prototype.onLeavePage=function(t){this.callbacks.push(t)},e.prototype.executeRemainingCallbacks=function(){for(var t=0,n=this.callbacks;t<n.length;t++)(0,n[t])();this.callbacks=[]},e.prototype.prepareBeforeLeaving=function(t){var n=SpeedKit;this.executeRemainingCallbacks(),G(n,t),this.unloaded=!0},e.prototype.isUnloaded=function(){return this.unloaded},e}(),rt=function(){function e(){this.gaObserver=[]}return e.prototype.onGaTracking=function(t){if(!this.gaObserver.length){var n=this.gaObserver;this.observeGa(function(){for(var i=0,r=n;i<r.length;i++){var o=r[i];o.apply({},arguments)}})}this.gaObserver.push(t)},e.prototype.onGaReady=function(t){Z(this.waitForGa.bind(this,t))},e.prototype.observeGa=function(t){Z(this.initGa.bind(this,t))},e.prototype.initGa=function(){var t=this,n=arguments[0];this.waitForGa(function(){window.ga.getAll().forEach(function(i){var r=i.get("sendHitTask");i.set("sendHitTask",function(o){r.call(t,o),n.call(t,o)})})})},e.prototype.waitForGa=function(t){var n=this,i=window.ga;i?i(function(){return t()}):setTimeout(function(){return n.waitForGa(t)},500)},e}();(function(e){e.Override="override",e.Append="append",e.Force="force",e.Once="once"})(R||(R={}));var I,Te,ke,W,J,P,ee,ot=function(){function e(t,n,i){this.beaconIndex=0,this.sendingScheduled=!1,this.init=this.getInit(t,n),this.sentTracking=Object.create(this.init),this.unsentTracking={},this.customTimers={},this.shouldTrackPI=i,this.dataLayerHandler=new Ye,this.leavePageHandler=new it,this.gATrackingHandler=new rt,this.customDimensions=[{name:"customPiDimensions",type:"PiDimension",dimensionData:{}},{name:"customSessionDimensions",type:"SessionDimension",dimensionData:{}}],this.onDOMInteractive=Z,this.onLoad=Q,this.onSpeedKitLoaded=Xe,this.onGaReady=this.gATrackingHandler.onGaReady.bind(this.gATrackingHandler),this.onGaTracking=this.gATrackingHandler.onGaTracking.bind(this.gATrackingHandler),this.onDataLayer=this.dataLayerHandler.onDataLayer.bind(this.dataLayerHandler),this.onDataLayerReady=this.dataLayerHandler.onDataLayerReady.bind(this.dataLayerHandler),this.onDfDataReady=nt,this.onVisibilityHidden=tt,this.onLeavePage=this.leavePageHandler.onLeavePage.bind(this.leavePageHandler),this.pluginHandler=new et(this)}return e.prototype.initializePlugins=function(){var t=this.getPlugins();this.initCustomTimerData(t),this.initCustomDimensionData(t),t.forEach(this.pluginHandler.initPlugin,this.pluginHandler),this.leavePageHandler.init()},e.prototype.reinitialize=function(t,n){this.init=this.getInit(t,n),this.sentTracking=Object.create(this.init),this.unsentTracking={},this.beaconIndex=0;var i=!L().pageDisabled&&a.group!=="B";this.shouldTrackPI=i},e.prototype.reportEvent=function(t,n,i,r){if(!(n===void 0||n<0)&&(this.reportTracking(t,n),r!==void 0&&i)){var o=r-n;if(o<0)return;this.reportTracking(i,o)}},e.prototype.sendCurrentTracking=function(t){if(!L().noTracking){var n=this.getUnsentTracking();if(n){t&&(n.unloadType=t);var i="";n.beaconIndex===0&&(i="?pi=1"+(this.shouldTrackPI?"&bqpi=1":"")),this.shouldTrackPI=!1,ye(a.appURL+"/rum/pi"+i,n)}}},e.prototype.updateBaseDimension=function(t,n){this.init[t]=n},e.prototype.trackCustomEvent=function(t,n,i,r){r===void 0&&(r=!0);var o={action:""+t,label:""+n,value:isNaN(Number(i))?0:Number(i)};this.reportTracking("events",o,R.Append),r&&this.sendCollapsed()},e.prototype.set=function(t,n,i,r){var o;i===void 0&&(i=!0),r===void 0&&(r=!1),o=typeof r=="boolean"?r?R.Force:R.Override:r;var s=this.reportTracking(t,n,o);return i&&this.sendCollapsed(),s},e.prototype.setTiming=function(t,n,i,r){return i===void 0&&(i=!0),r===void 0&&(r=!1),typeof n=="number"?this.set(t,n-this.init.navigationStart,i,r):this.set(t,n,i,r)},e.prototype.append=function(t,n,i){i===void 0&&(i=!0),this.reportTracking(t,n,R.Append),i&&this.sendCollapsed()},e.prototype.getBeaconIndex=function(){return this.beaconIndex},e.prototype.calculateRelative=function(t){if(t!==void 0)return t-this.init.navigationStart},e.prototype.reportTracking=function(t,n,i){if(i===void 0&&(i=R.Override),n==null)return!1;var r=this.customDimensions.filter(function(l){return l.dimensionData.hasOwnProperty(t)})[0];if(r)return this.reportCustomDimension(t,n,r.type);if(this.customTimers.hasOwnProperty(t))return this.reportCustomTimer(t,n);if(i===R.Append){var o=Array.isArray(n)?n:[n],s=this.unsentTracking[t]!==void 0?this.unsentTracking[t]:[],u=Array.isArray(s)?s:[s];return this.unsentTracking[t]=u.concat(o),!0}return!(!Array.isArray(n)&&Se(n,this.sentTracking[t])&&i!==R.Force)&&(!this.sentTracking.hasOwnProperty(t)||i!==R.Once)&&(this.unsentTracking[t]=n,!0)},e.prototype.reportCustomDimension=function(t,n,i){var r=typeof n=="string"?n:JSON.stringify(n),o=this.customDimensions.filter(function(u){return u.type===i})[0];if(!o||o.dimensionData[t]&&o.dimensionData[t]!=="null")return!1;o.dimensionData[t]=r;var s=this.unsentTracking[o.name]||{};return s[t]=r,this.unsentTracking[o.name]=s,!0},e.prototype.reportCustomTimer=function(t,n){if(typeof n!="number"||this.customTimers[t]&&this.customTimers[t]!==-1)return!1;this.customTimers[t]=n;var i=this.unsentTracking.customTimers||{};return i[t]=n,this.unsentTracking.customTimers=i,!0},e.prototype.getPlugins=function(){return window.SpeedKit&&window.SpeedKit.rumPlugins?window.SpeedKit.rumPlugins:[]},e.prototype.initCustomDimensionData=function(t){var n=this;t.forEach(function(i){i.key&&(n.customDimensions.every(function(r){return r.type!==i.type})||n.reportCustomDimension(i.key,"null",i.type))})},e.prototype.initCustomTimerData=function(t){var n=this;t.forEach(function(i){i.key&&i.type==="CustomTimer"&&(n.customTimers[i.key]=-1)})},e.prototype.getUnsentTracking=function(){if(Object.keys(this.unsentTracking).length===0)return null;var t=Object.create(null);for(var n in this.init)Object.prototype.hasOwnProperty.call(this.init,n)&&(t[n]=this.init[n]);for(var n in t.beaconIndex=this.beaconIndex,this.unsentTracking)Object.prototype.hasOwnProperty.call(this.unsentTracking,n)&&(t[n]=this.unsentTracking[n],this.sentTracking[n]=this.unsentTracking[n]);return this.unsentTracking=Object.create(null),this.beaconIndex+=1,t},e.prototype.sendCollapsed=function(){var t=this;this.leavePageHandler.isUnloaded()?this.sendCurrentTracking():this.sendingScheduled||(this.sendingScheduled=!0,setTimeout(function(){t.sendingScheduled=!1,t.sendCurrentTracking()},100))},e.prototype.getInit=function(t,n){return L().performanceOnly?t:j(t,n)},e}();function Ie(e){return parseFloat((1-e).toFixed(2))}function Ce(){var e=v.userAgent;return e.indexOf("Safari")>-1&&e.indexOf("Edge")===-1&&e.indexOf("Chrome")===-1}function Ne(){return!Ce()&&typeof PerformanceNavigationTiming!="undefined"&&!!performance.getEntriesByType}function Pe(){var e=performance.navigation;if(!Ne())return Ee(e.type);var t=performance.getEntriesByType("navigation");return t[0]&&"toJSON"in t[0]?J[t[0].type]:Ee(e.type)}function Ee(e){return typeof e!="number"?J[e]:e}function te(){return window.performance?performance.timing.navigationStart||Math.trunc(performance.timeOrigin):0}function De(e){var t=function(){var l=window.performance.timing;if(!Ne())return l;var p=performance.getEntriesByType("navigation");return p[0]&&"toJSON"in p[0]?p[0].toJSON():l}(),n=window.performance.timing,i="entryType"in t,r={};for(var o in t)if(typeof t[o]=="number"){var s=t[o]!==0,u=n&&(typeof n[o]!="number"||n[o]!==0);s||u?i?r[o]=Math.trunc(t[o]):t[o]>=e&&(r[o]=t[o]-e):r[o]=-1}else r[o]=t[o];return r.navigationStart=e,r.domLoading=n.domLoading-e,r.ttfb=i?r.responseStart:n.domLoading-e,r}function at(e,t){var n,i,r;e.controllingServiceWorker&&t.set("controllingSw",e.controllingServiceWorker,!1),e.lastNavigate.applicationState&&t.set("applicationState",e.lastNavigate.applicationState,!1),e.lastNavigate.responseCause!==I.Unknown&&t.set("responseCause",e.lastNavigate.responseCause,!1)&&t.set("responseSource",e.lastNavigate.responseSource,!1,!0),e.lastNavigate.disconnectCause!==W.None&&e.lastNavigate.disconnectCause!==W.DashboardDisabled&&t.set("disconnectCause",e.lastNavigate.disconnectCause,!1),typeof e.split=="number"&&t.set("split",(n=e.group,i=e.split,r=n==="A"&&typeof a.secondarySplit=="number"?a.secondaryGroup==="B"?Ie(a.secondarySplit):a.secondarySplit:1,i*r),!1),e.readyState==="complete"&&e.lastNavigate.splitTestId!==e.splitTestId&&t.set("actualTestId",""+e.lastNavigate.splitTestId,!1),e.readyState==="complete"&&e.lastNavigate.group!==e.group&&t.set("actualTestGroup",""+e.lastNavigate.group,!1)}function G(e,t){var n,i=e.rumController,r=!!a.secondaryGroup,o=e.lastNavigate.responseCause===I.BfCache,s=r?e.splitTestId+"-"+a.secondaryTestId:e.splitTestId,u=function(){if(L().stripAllParameter)return location.href.replace(/\?.*/,"?redacted");if(L().stripParameters){var c=new URL(location.href);return L().stripParameters.forEach(function(f,d){var T=new URL(location.href).searchParams.get(f)||"",b=T.length?f+"="+T:f;c.search=c.search.replace(new RegExp("(\\?|&)"+b),"$1redacted-"+d)}),c.href}return location.href}();r&&i.updateBaseDimension("testGroup",a.group+"-"+a.secondaryGroup);var l=L().performanceOnly?0:e.sessionIndex;i.set("sessionIndex",l,!1);var p=te();i.reportEvent("snippetExecution",e.executionTime-p),i.set("url",u,!1,R.Once),i.set("userAgent",v.userAgent,!1),i.set("referrer",h.referrer,!1),i.set("testId",s||"None",!1),i.set("responseSource",e.lastNavigate.responseSource,!1),i.set("assetTTFB",e.lastNavigate.assetTTFB,!1),i.set("originTTFB",e.lastNavigate.originTTFB,!1),i.set("assetSource",e.lastNavigate.assetSource,!1),i.set("assetCause",e.lastNavigate.assetCause,!1),i.set("firstLoad",e.lastNavigate.firstLoad,!1),i.set("disabled",e.disabled,!1),i.set("swSupported",e.swSupported,!1),i.set("skSupported",e.skSupported,!1),i.set("redirectList",(n=e.lastNavigate.redirectList)===null||n===void 0?void 0:n.map(function(c){return c.url}),!1,R.Once),i.set("screenResolution",e.screenResolution,!1,R.Once),at(e,i),typeof window.performance===void 0||o||(function(c){var f=te(),d=De(f);c.set("navigationStart",f,!1),c.set("secureConnectDuration",d.secureConnectionStart>=0&&d.connectEnd>=0?d.connectEnd-d.secureConnectionStart:-1,!1),c.reportEvent("unload",d.unloadEventStart,"unloadDuration",d.unloadEventEnd),c.reportEvent("domainLookup",d.domainLookupStart,"domainLookupDuration",d.domainLookupEnd),c.reportEvent("connect",d.connectStart,"connectDuration",d.connectEnd),c.reportEvent("redirect",d.redirectStart,"redirectDuration",d.redirectEnd),c.reportEvent("response",d.responseStart,"responseDuration",d.responseEnd),c.reportEvent("load",d.loadEventStart,"loadDuration",d.loadEventEnd),c.reportEvent("domContentLoaded",d.domContentLoadedEventStart,"domContentLoadedDuration",d.domContentLoadedEventEnd),c.reportEvent("request",d.requestStart),c.reportEvent("fetch",d.fetchStart),c.reportEvent("ttfb",d.ttfb),c.reportEvent("domComplete",d.domComplete),c.reportEvent("domInteractive",d.domInteractive),c.reportEvent("workerStart",d.workerStart)}(i),function(c){var f=Pe();f!==void 0&&c.set("navigationType",f,!1)}(i),function(c){if(typeof PerformancePaintTiming!="undefined"&&window.performance.getEntriesByType){var f=performance.getEntriesByType("paint");if(f&&f.length){var d=f.find(function(D){return D.name==="first-paint"}),T=f.find(function(D){return D.name==="first-contentful-paint"});c.set("firstPaint",d?Math.round(d.startTime):-1,!1),c.set("firstContentfulPaint",T?Math.round(T.startTime):-1,!1)}}else if(window.performance!==void 0){var b=performance.timing.msFirstPaint;b&&(c.setTiming("firstPaint",b,!1),c.setTiming("firstContentfulPaint",b,!1))}}(i)),o||(function(c,f){c.lastNavigate.cdnBackendTime&&f.set("cdnBackendTime",c.lastNavigate.cdnBackendTime,!1),c.lastNavigate.cdnPoP&&f.set("cdnPop",""+c.lastNavigate.cdnPoP,!1)}(e,i),function(c,f){var d=c.lastNavigate?c.lastNavigate.timings:null;d&&(f.setTiming("speedKitFetchEvent",d.eventStart,!1),f.setTiming("speedKitHandle",d.handleStart,!1),f.setTiming("speedKitBlacklistHandler",d.blacklistHandler,!1),f.setTiming("speedKitDisabledPageHandler",d.disabledPageHandler,!1),d.handleStart!==void 0&&d.handleEnd!==void 0&&f.set("speedKitHandleDuration",d.handleEnd-d.handleStart,!1),d.cacheStart!==void 0&&d.cacheEnd!==void 0&&f.reportEvent("speedKitCacheLookup",d.cacheStart-d.handleStart,"speedKitCacheLookupDuration",d.cacheEnd-d.handleStart),d.fetchStart!==void 0&&d.fetchEnd!==void 0&&f.reportEvent("speedKitFetchCall",d.fetchStart-d.handleStart,"speedKitFetchCallDuration",d.fetchEnd-d.handleStart))}(e,i)),t?i.sendCurrentTracking(t):i.sendCollapsed()}function M(){return!!h.querySelector(".speed-kit-dynamic-loading,.speed-kit-dynamic-loaded")}function st(e){var t,n=!1,i=!1,r=!1,o=function(){n&&i&&r&&G(e)};Q(function(){setTimeout(function(){n=!0,o()})}),function(s,u){s.readyState!=="complete"?window.addEventListener("speed-kit-completed",u,{once:!0}):u()}(e,function(){i=!0,o()}),t=function(){r=!0,o()},typeof PerformancePaintTiming!="undefined"&&window.performance.getEntriesByType&&performance.getEntriesByType("paint").length>0||typeof PerformanceObserver=="undefined"||typeof PerformancePaintTiming=="undefined"?t():new PerformanceObserver(t).observe({entryTypes:["paint"]}),window.addEventListener("pageshow",function(s){if(s.persisted){var u=se(),l=u[0],p=u[1];SpeedKit.navigateId=""+H(32),SpeedKit.lastNavigate.responseCause=I.BfCache,SpeedKit.lastNavigate.responseSource=M()?P.AssetAPI:P.Origin,SpeedKit.sessionIndex=p,SpeedKit.executionTime=Date.now();var c=performance.timing.navigationStart||performance.timeOrigin,f={sessionId:l,userId:SpeedKit.userId},d={navigationStart:c,testGroup:SpeedKit.group,piId:SpeedKit.navigateId};SpeedKit.rumController.reinitialize(d,f),G(SpeedKit)}})}function V(e){e.readyState!=="complete"&&setTimeout(function(){var t,n,i,r;e.readyState="complete",t="speed-kit-completed",n=window,i===void 0&&(i={}),typeof CustomEvent=="function"?r=new CustomEvent(t,{detail:i}):(r=h.createEvent("CustomEvent")).initCustomEvent(t,!0,!0,i),n.dispatchEvent(r)})}function Oe(e,t,n,i){i===void 0&&(i=1e3);var r=!1;return n&&setTimeout(function(){return r?null:n()},i),new Promise(function(o,s){var u=new MessageChannel,l=u.port1,p=u.port2;l.onmessage=function(c){r=!0,o(c.data)},l.onmessageerror=function(c){return s(c.data)},e.postMessage(t,[p])})}function ut(e,t){Oe(e,{type:"get-navigate-info",clientURL:location.href},function(){t.lastNavigate.responseSource=M()?P.AssetAPI:P.Origin,t.lastNavigate.responseCause=I.NoSwResponse,V(t)}).catch(function(n){return k(n,w.SNIPPET),null}).then(function(n){(function(i,r){if(!(!r||"wasCacheHit"in r)){if("reason"in r)return i.lastNavigate.applicationState=r.applicationState,i.lastNavigate.errorMessage=r.reason,void(r.applicationState===ee.FAILED&&(i.lastNavigate.responseCause=I.SwFailed));r.firstLoad=i.lastNavigate.firstLoad;var o=r.responseSource===P.Origin;r.assetSource||r.assetCause||r.assetTTFB||(r.assetSource=i.lastNavigate.assetSource,r.assetCause=i.lastNavigate.assetCause,r.assetTTFB=i.lastNavigate.assetTTFB),r.originTTFB||(r.originTTFB=i.lastNavigate.originTTFB),i.lastNavigate=r,i.lastNavigate.applicationState=r.applicationState,i.lastNavigate.responseCause=r.responseCause,i.lastNavigate.responseSource=o&&M()?P.SDN:r.responseSource,i.lastNavigate.originStatus=r.originStatus,i.lastNavigate.disconnectCause=r.disconnectCause,i.lastNavigate.assetTTFB=r.assetTTFB}})(t,n),V(t)})}function ct(e){return fetch(a.appURL+"/config/VAPIDPublicKey").then(function(t){return t.arrayBuffer()}).then(function(t){return{applicationServerKey:t,userVisibleOnly:!0}}).then(function(t){return e.subscribe(t)}).then(function(t){var n={subscription:t,devicetype:"WebPush"};return fetch(a.appURL+"/db/Device/register",{method:"POST",credentials:"include",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}})}).then(function(t){return t.status===200},function(){return!1})}function dt(){return"Notification"in window?Notification.requestPermission().then(function(e){return e==="denied"?"denied":e!=="granted"?"undecided":v[N].ready.then(function(t){var n=t.pushManager;return function(i){return i.getSubscription().then(function(r){return!!r})}(n).then(function(i){return!!i||ct(n)})}).then(function(t){return t?"registered":"unregistered"})}):Promise.resolve("unsupported")}function Le(e){var t=v[N];if(t)return t.ready.then(function(n){var i;if(n.active&&n.active.state==="activated")return n.active.postMessage(e);(i=n.active)===null||i===void 0||i.addEventListener("statechange",function(){var r;((r=n.active)===null||r===void 0?void 0:r.state)==="activated"&&n.active.postMessage(e)})})}function Re(e){return e&&new URL(e,location.origin).pathname}function de(e){var t;(t=Le({type:"update-device",data:e}))===null||t===void 0||t.catch(function(n){return k(n,w.SNIPPET)});try{(function(n){var i=Re(a.scope),r=v.userAgent,o=new ae(i);o.set("/com.baqend.speedkit.device",{device:n,userAgent:r}).catch(function(s){return k(s,w.SNIPPET)}).finally(function(){return o.disconnect().catch(function(s){return k(s,w.SNIPPET)})})})(e)}catch(n){k(n,w.SNIPPET)}}function pt(e){var t=v[N].controller;t&&t.postMessage({type:"bypass-deactivation",data:e})}function lt(){var e=v[N];e&&e.controller&&e.controller.postMessage({type:"connect"})}function ft(){var e=v[N];e&&e.controller&&e.controller.postMessage({type:"disconnect"})}function gt(){var e=x("baqend-speedkit-hashing-salt");if(e)return e;var t=function(){for(var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i="",r=0;r<32;r+=1)i+=n.charAt(Math.floor(Math.random()*n.length));return i}();return $("baqend-speedkit-hashing-salt",t),t}function vt(e){return function(t,n){for(var i="",r=0;r<t.length;r+=1){var o=r%n.length;i+=(t.charCodeAt(r)^n.charCodeAt(o)).toString(32)}return i}(e,gt())}function ht(e){var t=v[N].controller;t&&t.postMessage({type:"offline",data:e})}function Ae(){var e=v[N].controller;e&&e.postMessage({type:"fetch-bloom-filter",data:!0})}function z(){return a.disabled||a.enabled===!1}function Be(e){return e===I.SkUnsupported}function _(e){var t;(t=Le({event:e,type:"send-cookies",data:h.cookie}))===null||t===void 0||t.catch(function(n){return k(n,w.SNIPPET)})}function Fe(e,t,n){return!!v[N]&&!!v[N].getRegistrations&&function(i,r,o){return!!v.userAgent.includes("SpeedCurve")||(i==="Safari"?r!==15||o>=2:i==="Chrome"?r>=61:i!=="Firefox"||r!==59)}(e,t,n)}function xe(){return v.userAgent.toLowerCase().indexOf("wv)")>-1}function Ke(e){var t=e.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)\.?(\d+)?/i)||[],n=null;if(/trident/i.test(t[1]))return n=/\brv[ :]+(\d+)\.?(\d+)?/g.exec(e)||[],["IE",parseInt(n[1],10)||0,parseInt(n[2],10)||0];var i=function(o){if(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Version)/.test(o)){var s=o.match(/(OS |os |OS)(\d+)_?(\d+)?/i)||[];return["SafariWebView",parseInt(s[2],10)||0,parseInt(s[3],10)||0]}return null}(e)||function(o,s){if(s[1]==="Chrome"){var u=null;if((u=o.match(/\bEdg\/(\d+)\.?(\d+)?/)||o.match(/\bEdge\/(\d+)\.?(\d+)?/))!=null)return["Edge",parseInt(u[1],10),parseInt(u[2],10)||0];if((u=o.match(/\bOPR\/(\d+)\.?(\d+)?/))!=null)return["Opera",parseInt(u[1],10),parseInt(u[2],10)||0]}return null}(e,t);if(i!==null)return i;var r=t[2]?[t[1],parseInt(t[2],10),parseInt(t[3],10)||0]:[v.appName,parseInt(v.appVersion,10),0];return e.indexOf("Android")===-1&&(n=e.match(/version\/(\d+)\.?(\d+)?/i))!=null&&(r.splice(1,1,parseInt(n[1],10)),r.splice(2,1,parseInt(n[2],10)||0)),r}function Ue(){var e=Ke(v.userAgent);return e[0]==="SafariWebView"&&e[1]>=14}function qe(){return v.userAgent.indexOf("Edge")>=0}function Ge(e,t,n,i){i===void 0&&(i=!1);var r=!a.enableForWebViews&&(xe()||Ue());return Fe(e,t,n)&&!i&&!r&&!qe()}function mt(e,t){var n,i,r=a.group,o=window.SpeedKit||{},s=o.navigateId||""+H(32),u=te(),l=t.userId,p=t.sessionId,c=t.sessionIndex,f=e.browser,d=e.browserVersion,T=e.minorVersion,b={navigationStart:u,testGroup:r,piId:s},D={userId:l,sessionId:p},g=(n=e.responseCause,i=!L().pageDisabled,(z()||Be(n))&&i&&a.group!=="B"),S=new ot(b,D,g),m=S.trackCustomEvent.bind(S),E={navigateId:s,userId:l,sessionId:p,sessionIndex:c,group:r,rumController:S,track:m,subscribe:dt,bypassDeactivation:pt,activate:lt,deactivate:ft,split:typeof a.split=="number"?a.group==="B"?Ie(a.split):a.split:1,updateDevice:de,getHash:vt,simulateOfflineMode:ht,fetchBloomFilter:Ae,updateCookies:_,disabled:!1,lastNavigate:e,readyState:"loading",splitTestId:a.splitTestId,controllingServiceWorker:yt(),executionTime:Date.now(),swSupported:Fe(f,d,T),skSupported:Ge(f,d,T),screenResolution:{width:window.screen.width*window.devicePixelRatio,height:window.screen.height*window.devicePixelRatio}};return Object.keys(o).forEach(function(O){E[O]=o[O]}),window.SpeedKit=E,S.initializePlugins(),window.SpeedKit}function yt(){return v.serviceWorker&&v.serviceWorker.controller?v.serviceWorker.controller.scriptURL:null}function ne(e){if(typeof Storage!="undefined")try{localStorage.removeItem(e)}catch(t){}try{h.cookie=e+"=; expires="+new Date().toUTCString()+"; path=/; SameSite=lax; Secure"}catch(t){}}function Me(e,t){if(t)return!0;var n=e.group,i=e.testId;return!(!i||i.indexOf("-debug")===-1)||n!=="A"}function He(e,t){var n=function(r,o){var s=o==="baqend-speedkit-secondary-config",u=function(p,c){var f=p.testId!=="undefined",d=p.group!=="undefined",T=c?a.secondaryTestId:a.splitTestId,b=f&&(D=p.testId,g=T,(D==null?void 0:D.replace("-debug",""))!==(g==null?void 0:g.replace("-debug",""))),D,g;if(d&&!b)return p.group;var S=c?a.secondaryGroup:a.group,m=c?a.secondarySplit:a.split;return function(E,O){return E===void 0?Math.random()<O?"A":"B":E}(S,m)}(r,s),l=s?a.secondaryTestId:a.splitTestId;return l&&(l=function(p){return x("baqend-speedkit-debug")!=="true"?p.replace("-debug",""):p.indexOf("-debug")>-1?p:p+"-debug"}(l)),{group:u,testId:l}}(e,t),i=t==="baqend-speedkit-secondary-config";return i?(a.secondaryGroup=n.group,a.secondaryTestId=n.testId):(a.group=n.group,a.splitTestId=n.testId),Me(n,i?a.secondarySplit<1:a.split<1)?(function(r,o,s){u=s,l=encodeURIComponent(JSON.stringify(r)),p=encodeURIComponent(JSON.stringify(o)),p!==l&&p&&K(u,p);var u,l,p}(e,n,t),!0):(ne(t),!1)}function St(e,t,n,i){var r=window.location.href,o=Ke(v.userAgent),s=o[0],u=o[1],l=o[2],p=function(f,d,T,b,D,g){var S=Ge(f,d,T,b),m=a.group==="B"||a.secondaryGroup==="B";return S?!m&&z()?[P.Origin,I.Disabled]:!D||!a.sdnSetup&&M()?!m&&g?[P.Origin,I.GroupChange]:v[N].controller?[M()?P.AssetAPI:P.Origin,I.Unknown]:[P.Origin,m?I.NonSKGroup:I.NoSwInstalled]:[P.Origin,I.FirstLoad]:[P.Origin,I.SkUnsupported]}(s,u,l,e,t,n.group==="B"||i.group==="B"),c=p[0];return{url:r,browser:s,firstLoad:t,browserVersion:u,minorVersion:l,responseCause:p[1],responseSource:c,cdnBackendTime:null,cdnPoP:null,splitTestId:n.testId,group:a.split!==void 0?n.group:a.group,disconnectCause:W.None}}function pe(e,t,n){return e.put(""+t,new Response(null,{status:200,statusText:(i=n,JSON.stringify(i,function(r,o){return o instanceof RegExp?"regexp:/"+(s=o).source+"/"+(s.flags||""):o;var s}))}));var i}function le(){var e=new URL(a.sw||"/sw.js",location.origin);return e.origin+e.pathname}function wt(e){var t=function(n){var i=n;if(a.includeServiceWorker){var r=n.indexOf("?")>=0?"&":"?";i+=r+"othersw="+a.includeServiceWorker}return i}(a.sw);return v[N].register(t,{scope:a.scope||"/"}).then(function(n){var i;i=!1,h.addEventListener("visibilitychange",function(){h.visibilityState==="hidden"?i||(i=!0,_("visibilitychange")):i=!1}),window.addEventListener("pagehide",function(){i||(i=!0,_("pagehide"))});var r=le(),o=e.controllingServiceWorker;(!o||(r==null?void 0:r.split("?")[0])!==o.split("?")[0])&&function(s){Q(function(){window.setTimeout(function(){if(s.active&&typeof PerformanceResourceTiming!="undefined"){var u,l=(u=De(te()).domContentLoadedEventEnd,window.performance.getEntriesByType?performance.getEntriesByType("resource").filter(function(p){if(u>0&&p.startTime+p.duration>u)return!1;var c;try{c=new URL(p.name)}catch(f){return!1}return(c==null?void 0:c.origin)!==window.location.origin}):[]).map(function(p){var c=p.name;return{initiatorType:p.initiatorType,url:c}});Oe(s.active,{type:"prewarm-fetch",data:l}).then(function(p){if(p.applicationState===ee.FAILED)return function(c){return window.caches?caches.open(oe(A,a.scope)).then(function(f){var d=window.devicePixelRatio,T=window.screen.width,b=[[location.origin,h.cookie]];return Promise.all([pe(f,"/com.baqend.speedkit.screen",{dpr:d,width:T}),pe(f,"/com.baqend.speedkit.config",a),pe(f,"/com.baqend.speedkit.cookie",{origins:b})])}).then(function(){return c.postMessage({type:"init-cache"})}):Promise.resolve()}(s.active)})}},1e3)})}(n),function(s){s.navigationPreload&&function(u){if(u.active)return Promise.resolve(u.active);var l=u.waiting||u.installing;return new Promise(function(p){return l.onstatechange=function(){l.state==="activated"&&p(l)}})}(s).then(function(){a.navigationPreload?s.navigationPreload.enable():s.navigationPreload.disable()}).catch(function(u){return k(u,w.SNIPPET)})}(n)})}function je(e){var t=B(e),n=e==="baqend-speedkit-secondary-config",i=n?a.secondarySplit:a.split,r=n?A+"-secondary-ab-test-info":A+"-ab-test-info";if(t)return We(t);var o={group:"undefined",testId:"undefined"},s=B(r);return s&&(o=We(s),ne(r),Me(o,i!=null&&i<1)&&K(e,encodeURIComponent(JSON.stringify(o)))),o}function We(e){try{return JSON.parse(decodeURIComponent(e))}catch(t){return{group:"undefined",testId:"undefined"}}}function bt(){var e,t,n=JSON.parse(x("baqend-speedkit-rum-split-enabled")||"{}"),i=!n.sessionId,r=n.sessionId===B(Y);return{rumSplitEnabled:n&&n.sessionId?n.split!==!1:(t=Math.random()<((e=a.sampleRate)!==null&&e!==void 0?e:1),a.sampleRate&&$("baqend-speedkit-rum-split-enabled",JSON.stringify({split:t,sessionId:B("baqend-speedkit-session-id")})),t),isActiveSession:i||r}}function Tt(){if(!(!ue()&&x("baqend-speedkit-rum-opt-out")!=="1"&&!window.deactivateSpeedKitRUM))return!1;var e=a.rumTracking;if(!e)return!1;if(a.sampleRate===void 0)return function(r){if(h.cookie=r+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/; SameSite=Lax; Secure",typeof Storage!="undefined")try{localStorage.removeItem(r)}catch(o){}}("baqend-speedkit-rum-split-enabled"),e;var t=bt(),n=t.rumSplitEnabled,i=t.isActiveSession;return!(!n||!i)&&e}function kt(){var e,t=window.SpeedKit||{},n=t.userId,i=t.sessionId,r=t.sessionIndex,o=L(),s=!o.noTracking&&!o.performanceOnly;return t.sessionId||(i=(e=s?se():["",0])[0],r=e[1]),t.userId||(n=s?we():""),{userInfo:{userId:n,sessionId:i,sessionIndex:r},persisted:function(u,l,p){var c=L();return c.noTracking||c.performanceOnly?!1:(K(F,u),K(Y,l),K(ie,""+p),K(re,Date.now().toString()),!0)}(n,i,r)}}function Je(e){for(var t=0,n=h.cookie.replace(/\s/g,"").split(";").filter(function(s){return s.lastIndexOf(e,0)===0});t<n.length;t++){var i=n[t],r=i.indexOf("="),o=r>-1?i.substr(0,r):i;h.cookie=o+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/; SameSite=Lax; Secure"}}function It(e,t){if(e)return function(n,i){if(typeof Storage!="undefined")try{for(var r in localStorage)r.includes(n)&&!(i!=null&&i.includes(r))&&localStorage.removeItem(r)}catch(o){}}(A,["baqend-speedkit-sk-opt-out"]),void Je(A);t.noCookies&&Je(A),!t.noTracking&&!t.performanceOnly||a.sampleRate||[F,Y,ie,re].forEach(function(n){return ne(n)})}(function(e){e.Blacklist="Blacklist",e.ClientError="ClientError",e.Redirect="Redirect",e.CORSRedirect="CORSRedirect",e.CriticalResource="CriticalResource",e.Delayed="Delayed",e.Disabled="Disabled",e.Disconnected="Disconnected",e.DynamicBlock="DynamicBlock",e.DynamicBlockPreload="DynamicBlockPreload",e.DynamicBlockCached="DynamicBlockCached",e.Error="Error",e.Fallback="Fallback",e.Fetchlist="Fetchlist",e.FirstLoad="FirstLoad",e.GroupChange="GroupChange",e.IgnoredAfterPOSTNavigate="IgnoredAfterPOSTNavigate",e.InternalServerError="InternalServerError",e.LoopDetected="LoopDetected",e.NavigationPreload="NavigationPreload",e.NonSKGroup="NonSKGroup",e.SkUnsupported="SkUnsupported",e.NoSwInstalled="NoSwInstalled",e.NoSwResponse="NoSwResponse",e.Offline="Offline",e.Onboarding="Onboarding",e.SafeScript="SafeScript",e.SwFailed="SwFailed",e.TrackingRequest="TrackingRequest",e.Unknown="Unknown",e.Immutable="Immutable",e.BfCache="BfCache",e.NotEnabled="NotEnabled",e.NotWhitelisted="NotWhitelisted",e.UserAgentChanged="UserAgentChanged",e.TooLargeRequest="TooLargeRequest",e.FormatNotSupported="FormatNotSupported",e.OtherSwInstalled="OtherSwInstalled",e.SwBooting="SwBooting",e.NoNavigate="NoNavigate",e.NoMatchingNavigate="NoMatchingNavigate",e.Timeout="Timeout",e.DisabledSites="DisabledSites",e.PartialResponse="PartialResponse"})(I||(I={})),function(e){e.CacheMiss="CacheMiss",e.ExpiredResponse="ExpiredResponse",e.InstantRefresh="InstantRefresh",e.InvalidCacheSketch="InvalidCacheSketch",e.ReloadCacheMode="ReloadCacheMode",e.UrlInCacheSketch="UrlInCacheSketch"}(Te||(Te={})),function(e){e.CacheHit="CacheHit",e.RevalidationWhitelist="RevalidationWhitelist"}(ke||(ke={})),function(e){e.SWException="SWException",e.BloomfilterException="BloomfilterException",e.DashboardDisabled="DashboardDisabled",e.ServerError="ServerError",e.None="None",e.AssetTimeout="AssetTimeout"}(W||(W={})),function(e){e[e.navigate=0]="navigate",e[e.reload=1]="reload",e[e.back_forward=2]="back_forward",e[e.prerender=3]="prerender",e[e.reserved=255]="reserved"}(J||(J={})),function(e){e.AssetAPI="AssetAPI",e.Shield="Shield",e.Storage="Storage",e.Edge="Edge",e.Collapsed="Collapsed",e.PendingAsset="PendingAsset",e.Stream="Stream",e.MissingCachingHeader="MissingCachingHeader",e.Generated="Generated",e.Origin="Origin",e.SwCache="SwCache",e.SDN="SDN"}(P||(P={})),function(e){e.INSTALLING="installing",e.BOOTING="booting",e.RUNNING="running",e.FAILED="failed"}(ee||(ee={}));try{(function(){if(!window[ve]){window[ve]=!0;var e=window.location.href.match(/speed-kit-rum-opt-out=([01])/);e&&$("baqend-speedkit-rum-opt-out",e[1]);var t=ue();t&&(a.rumTracking=!1);var n=function(){var g={group:"",testId:a.splitTestId};if(window.location.href.indexOf("disableSpeedKit=1")>=0?g.group="B":window.location.href.indexOf("enableSpeedKit=1")>=0&&(g.group="A"),g.group)return K("baqend-speedkit-config",encodeURIComponent(JSON.stringify(g))),g}()||je("baqend-speedkit-config"),i=je("baqend-speedkit-secondary-config"),r=function(g,S,m){var E=!1;if(m)return a.group="optOut",E;if(a.split==null){var O=g.testId==="undefined"&&g.group!=="undefined";a.group=O?g.group:"A"}else E=He(g,"baqend-speedkit-config");if(B("baqend-speedkit-debug")==="true"&&(a.secondarySplit=null),a.secondarySplit!=null&&a.group==="A"){var C=He(S,"baqend-speedkit-secondary-config");E=E||C}return E}(n,i,t),o=B(F)===null,s=kt(),u=s.userInfo,l=s.persisted,p=function(g,S){var m=B(F)===null&&B("baqend-speedkit-config")===null&&B("baqend-speedkit-secondary-config")===null;return m?m&&g?!0:S?!1:(K(F,"testDenied"),m=B(F)===null,ne(F),m):!1}(r&&l,t);(function(g){a.sw=a.sw||"/sw.js",a.split!=null&&a.group&&(a.sw=(S=a.sw,m="gr",E=a.group,O=S.indexOf("?")>-1?"&":"?",""+S+O+m+"="+E));var S,m,E,O;a.rumTracking=Tt();var C=!a.enableForWebViews&&(xe()||Ue());if(a.disabled=a.enabled===!1||a.disabled||a.group==="B"||a.secondaryGroup==="B"||C||qe()||g,a.appURL="https://"+(a.appDomain||"{}.app.baqend.com".replace("{}",a.appName))+"/v1",a.customVariation&&a.customVariation.forEach(function(y){y.variationFunction=typeof y.variationFunction=="function"?y.variationFunction.toString():y.variationFunction}),a.image&&Array.isArray(a.image)&&a.image.forEach(function(y){var q;y.imageFunction=typeof y.imageFunction=="function"?(q=y.imageFunction)===null||q===void 0?void 0:q.toString():y.imageFunction}),typeof a.customDevice=="function"){var U=a.customDevice.call(null);a.customDevice=typeof U=="string"?U:null,Promise.resolve(U).then(function(y){y&&de(y)}).catch(function(y){k(y,w.CONFIG)})}else a.customDevice&&de(a.customDevice);v.userAgent.indexOf("Firefox/")>=0&&(a.navigationPreload=!1)})(t);var c=function(g,S){var m=mt(g,S);return m.disabled=a.group!=="B"&&a.secondaryGroup!=="B"&&!!z(),v[N]&&v[N].controller||!M()||(m.lastNavigate.responseSource=P.SDN),m}(St(p,o,n,i),u),f=L();if(It(t,f),f.noTracking||p||function(g){G(g),st(g)}(c),Be(c.lastNavigate.responseCause)||(d=window.top!==window,location.protocol!=="https:"||!a.executeInIframe&&d))return void V(c);var d,T=v[N].controller;if(T?function(g,S,m){var E=le();if(m.scriptURL&&!function(C,U){var y=U.scriptURL;if(!y)return!1;if(C===y.split("?")[0])return!0;var q=new URL(y).searchParams.get("othersw");return!!q&&C===q.split("?")[0]}(E,m))return function(C,U){return a.group==="B"||a.secondaryGroup==="B"||C.lastNavigate.group==="B"||!!z()||U}(g,S)||(g.lastNavigate.responseCause=I.OtherSwInstalled),void V(g);ut(m,g),_("load"),O=Object.getOwnPropertyDescriptor(Document.prototype,"cookie"),O&&O.configurable&&Object.defineProperty(Document.prototype,"cookie",{configurable:!0,get:function(){return O.get.call(h)},set:function(C){O.set.call(h,C),_()}}),function(C){v[N].addEventListener("message",function(U){var y=U.data,q=y.type,X=y.payload;if(q==="asset-response-timings"){var Ct=X.assetSource,Nt=X.assetTTFB,Pt=X.cdnPoP,Et=X.originTTFB,Dt=X.assetCause;C.lastNavigate.assetSource=Ct,C.lastNavigate.assetTTFB=Nt,C.lastNavigate.originTTFB=Et,C.lastNavigate.cdnPoP=Pt,C.lastNavigate.assetCause=Dt,G(C)}})}(g),Ce()&&function(){return Pe()===J.reload}()&&Ae();var O}(c,o,T):V(c),z())return void ge().catch(function(g){return k(g,w.SNIPPET)});if(!T)return fe();b=!1,Q(function(){b||(b=!0,fe())}),D=function(){setTimeout(function(){b||(b=!0,fe())},1e3)},h.readyState==="loading"?h.addEventListener("DOMContentLoaded",D):setTimeout(D,0);var b,D}})()}catch(e){k(e,w.SNIPPET)}function fe(){var e=!1;Ve().catch(function(t){return!e&&k(t,w.SNIPPET),e=!0,ze().then(function(){return Ve()})}).then(function(){return wt(SpeedKit)}).catch(function(t){var n=ce(t)?t.reason.message||JSON.stringify(t.reason):t.message;return n==="The operation is insecure."||n==="Rejected"?(SpeedKit.lastNavigate.responseCause=I.SkUnsupported,G(SpeedKit),ge()):(!e&&k(t,w.SNIPPET),e=!0,ge())}).catch(function(t){!e&&k(t,w.SNIPPET),e=!0})}function Ve(){var e=Re(a.scope),t=new ae(e),n=window.devicePixelRatio,i=window.screen.width,r=v.userAgent,o=a.customDevice,s=o?t.set("/com.baqend.speedkit.device",{device:o,userAgent:r}):Promise.resolve();return Promise.all([t.set("/com.baqend.speedkit.config",a),t.set("/com.baqend.speedkit.screen",{dpr:n,width:i}),t.set("/com.baqend.speedkit.cookie",{origins:[[location.origin,h.cookie]]}),void 0,s]).then(function(){return t.disconnect()})}function Rt(e){}function ge(){var e=new URL(a.scope||"/",location.origin).toString(),t=le();return v[N].getRegistrations().then(function(n){return n.forEach(function(i){var r=function(o){var s=o.active||o.installing||o.waiting;if(!s)return"";var u=new URL(s.scriptURL);return u.origin+u.pathname}(i);i.scope===e&&r===t&&i.unregister()})}).catch(function(){return null}).then(function(){return ze()})}function ze(){return Promise.all([window.caches?caches.keys().then(function(t){var n=t.filter(function(i){return new RegExp("^"+oe(A,a.scope)+".*").test(i)});return Promise.all(n.map(function(i){return caches.delete(i)}))}):Promise.resolve(),(e=new ae(a.scope),e.clear().then(function(){return e.disconnect()}))]);var e}})(document,navigator,"serviceWorker",typeof speedKit!="undefined"?speedKit:config,"SNIPPET_LOADED");})();